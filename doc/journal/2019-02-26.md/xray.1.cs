'From Squeak5.3alpha of 25 January 2019 [latest update: #18417] on 26 February 2019 at 10:30:13 am'!BorderedMorph subclass: #XRayMorph	instanceVariableNames: 'refPoint'	classVariableNames: ''	poolDictionaries: ''	category: 'XRay'!!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 09:43'!drawOn: aCanvas	super drawOn: aCanvas.	aCanvas		clipBy: self bounds		during: [:c |	self subjects do: [:m |		self drawSubject: m on: c]].! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 10:07'!drawSubject: morph on: aCanvas	self		drawSubject: morph		on: aCanvas		level: 0.! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 10:27'!drawSubject: morph on: aCanvas level: number	| name font width morphBounds |	name := morph externalName.	font := TextStyle defaultFont.	width := font widthOfString: name.	morphBounds := morph boundsInWorld. 	aCanvas		clipBy: (morph clipSubmorphs ifTrue: [morphBounds] ifFalse: [aCanvas clipRect])		during: [:c |	c			frameAndFillRectangle: morphBounds			fillColor: (Color green muchDarker alpha: 0.05)			borderWidth: 1			borderColor: (Color green muchDarker alpha: 0.5).	"Draw morph label for identification."	Display getCanvas		clipBy: self bounds		during: [:all |			all				drawString: morph externalName				in: (morphBounds center - (width // 2 @ (font height // 2)) + (0 @ (number * font height)) corner: self bottomRight)				font: font				color: Color black].	morph submorphsDo: [:m |		self drawSubject: m on: c level: number + 1].	]! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 09:56'!handlesMouseDown: evt	^ true! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 10:01'!handlesMouseMove: evt	^ refPoint notNil! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 09:57'!handlesMouseOver: evt	^ true! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 10:04'!initialize	super initialize.	self color: (Color white alpha: 0.6).	self clipSubmorphs: true.	self borderWidth: 1.	self addCornerGrips.		self layoutPolicy: ProportionalLayout new.! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 10:02'!mouseDown: evt	refPoint := evt position - self topLeft.! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 09:59'!mouseEnter: evt	evt hand showTemporaryCursor: Cursor crossHair! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 09:58'!mouseLeave: evt	evt hand showTemporaryCursor: nil! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 10:01'!mouseMove: evt	self topLeft: (evt position - refPoint).! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 10:00'!mouseUp: evt	refPoint := nil.! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 09:44'!step	self comeToFront! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 09:44'!stepTime	^ 500! !!XRayMorph methodsFor: 'as yet unclassified' stamp: 'mt 2/26/2019 09:37'!subjects	^ (self owner morphsInFrontOverlapping: self bounds)		copyWithout: self! !